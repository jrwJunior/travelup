{"version":3,"sources":["actions/action_types.js","store/enhancement/themeMiddleware.js","store/enhancement/authMiddleware.js","reducers/authReducer.js","reducers/userReducer.js","reducers/mapleafletReducer.js","reducers/cropperReducer.js","reducers/modalReducer.js","reducers/popperReducer.js","reducers/galleryReducer.js","reducers/noticeReducer.js","reducers/themeReducer.js","reducers/rootReducer.js","fb/firebase.js","store/store.js","actions/modal_actions.js","actions/cropper_actions.js","actions/auth_actions.js","components/popper/popper_view.jsx","components/popper/popper_container.jsx","components/popper/index.js","actions/theme_actions.js","actions/popper_actions.js","components/modal/modal.jsx","components/modal/index.js","components/cropper/cropper.jsx","components/cropper/index.js","actions/user_actions.js","components/upload_avatar/upload_avatar.jsx","components/upload_avatar/upload_avatar_container.jsx","components/upload_avatar/index.js","actions/map_actions.js","services/service_geocoder.js","components/spinner/index.js","components/spinner/spinner_view.jsx","components/upload_file/upload_file.jsx","components/upload_file/upload_file_container.jsx","components/upload_file/index.js","components/logo/index.js","components/logo/logo.jsx","components/header/index.js","components/header/header.jsx","services/service_geo_cordinats.js","components/map_leaflet/map.jsx","components/map_leaflet/index.js","components/sidebar/sidebar_item.jsx","components/sidebar/sidebar.jsx","components/sidebar/sidebar_container.jsx","components/sidebar/index.js","components/gallery/gallery_item.jsx","components/gallery/gallery.jsx","components/gallery/gallery_container.jsx","components/gallery/index.js","actions/gallery_actions.js","components/notification/index.js","components/notification/notification.jsx","components/home/home.jsx","components/home/home_container.jsx","components/home/index.js","actions/notice_actions.js","components/auth/private_route.jsx","components/auth/input/index.js","components/auth/input/input.jsx","components/auth/auth_container/auth.jsx","components/auth/auth_container/index.js","components/auth/auth_socials/auth_soc.jsx","components/auth/auth_socials/auth_soc_container.jsx","components/auth/auth_socials/index.js","components/auth/button/index.js","components/auth/button/button.jsx","components/auth/sign_in/index.js","components/auth/sign_in/signin.jsx","components/auth/sign_up/index.js","components/auth/sign_up/signup.jsx","components/unlogged_topbar/index.js","components/unlogged_topbar/topbar.jsx","components/app/app.jsx","components/app/index.js","index.js"],"names":["SET_NOTICE","middlewareTheme","getState","next","action","state","local","localStorage","type","setItem","JSON","stringify","theme","payload","data","parse","getItem","uid","auth","middlewareAuth","isLogined","initState","loading","logout","error","authReducer","console","log","user","userAvatar","userReducer","lat","lng","marks","selectMapId","errorCords","mapLeafletReducer","concat","zoom","photo","cropperReducer","isOpen","id","modalReducer","popperShow","popperReducer","photos","galleryReducer","isNotice","message","notificationReducer","actionTypes","notifi","colorTheme","themeReducer","rootReducer","combineReducers","fb","firebaseReducer","form","formReducer","cropper","map","modal","popper","gallery","notice","noticeReducer","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","configureStore","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunkMiddleware","withExtraArgument","getFirebase","getFirestore","authMiddleware","themeMiddleware","reactReduxFirebase","fbConfig","reduxFirestore","modalOppened","dispatch","setCropZoomPhoto","signInSocials","provider","a","db","signInWithPopup","res","email","photoURL","collection","doc","set","avatar","AppPopperView","props","onClickCheck","onChangeFile","onCancel","isChecked","onLogout","nodeRef","userData","isLogout","className","ref","onClick","src","alt","focusable","height","width","viewBox","aria-hidden","d","role","to","PopperContainer","React","createRef","handlerChecked","evt","preventDefault","setState","handleOutsideClick","current","contains","target","togglePopper","handleSignOut","signOut","then","addEventListener","this","unsubscribe","removeEventListener","prevProps","prevState","Component","Pooper","connect","setTheme","ReactModal","setAppElement","Modal","children","EditorPhoto","handleZoomSlider","value","cropZoomPhoto","handleResetZommSlider","handleSave","editor","getImageScaledToCanvas","toBlob","blob","updateUserAvatar","handleCancel","toggleModal","setEditorRef","updatePhoto","image","border","borderRadius","color","scale","rotate","axis","x","xmin","xmax","xstep","onChange","Cropper","url","file","localData","storage","put","snapshot","getDownloadURL","update","EditorView","isPopperShow","isEmpty","fileRef","popperRef","onClickPopper","onCloseModal","accept","multiple","CSSTransition","in","timeout","classNames","unmountOnExit","onRequestClose","overlayClassName","UploadAvatarContainer","fileInput","modal_id","handleChange","cropPhoto","files","length","URL","createObjectURL","handleChangeFile","click","handlePopper","stopPropagation","handleCloseModal","UploadAvatar","setCropPhoto","setGPSCoordinatesOfPhotos","cords","dataIsEmpty","Object","keys","docRef","refData","get","name","hasOwnProperty","exists","setMapId","SeviceGeocoder","lon","api_url","encodeURIComponent","toString","fetch","ok","json","key","results","components","Spinner","mode","style","preserveAspectRatio","cx","cy","r","animationName","strokeDasharray","strokeWidth","UploadFileView","isLoading","xmlns","UploadFileContainer","serviceGeoocoder","ServiceGeoocoder","Array","from","forEach","getFile","handleClick","handleModalClose","coordinates","Promise","req","numerator","denominator","setPhotoCoordinates","setError","EXIF","getData","all","getGPSCoordinates","getTag","UploadFile","Logo","href","Header","ServiceGeoCordinats","Mapleaflet","serviceGeoCoordinates","ServiceGeoCoordinates","map_dark","map_light","handleMouseOver","ctx","layer","isColor","isOpacity","setStyle","weight","fillColor","fillOpacity","handleMouseOut","resetStyle","mapCustomMarkIcon","items","images","divIcon","html","iconAnchor","iconSize","filterCountryId","options","selectCountry","item","includes","position","selectedCountry","feature","some","originalEvent","getAllPhotos","_id","getCords","setCenterMap","latlng","fill","Map","center","maxBounds","TileLayer","minZoom","maxZoom","GeoJSON","MapGeo","mapLayerStyled","onMouseOver","onMouseOut","Marker","icon","AppMap","storageRef","child","listRef","listAll","list","prefixes","fullPath","getMetadata","timeCreated","every","el","push","sort","b","Date","setPositionCenterMap","SidebarItem","countName","countCode","countId","onSelectCountry","onCountVisited","falagIcon","backgroundImage","Sidebar","isCountry","onFindCountry","placeholder","renderThumbVertical","features","properties","code","toLowerCase","indexOf","SidebarContainer","isFoundCountry","handleFindCountry","label","trim","handleSelectCountry","—ÅountVisited","itemLast","GalleryItem","isSelected","isSelectedItem","onSelectedItem","onOpenLightBox","selected","GalleryView","onDragEnter","onDragOver","onDragLeave","onDrop","onClose","onSelected","onRemoveItem","onOpenLightbox","islightboxOpen","isSelectedIndex","isImages","inputRef","disabled","currentIndex","views","GalleryContainer","serviceGeoCordinats","ServicesGeoCordinats","lightboxIsOpen","selectedIndex","selectedItem","setPhotosGallery","setCoordinates","fileList","handleSelected","isSelect","handleSelectItem","val","index","findIndex","newArray","splice","handleRemoveItem","deleteDataItem","deleteMapCords","handleOpenLightbox","classList","add","rect","getBoundingClientRect","dx","clientX","left","dy","clientY","top","remove","closeModal","handleDragOverEnter","handleDragLeave","handleDragDrop","Gallery","setGalleryPhoto","delitem","delItem","idx","delete","deletedData","newMarks","filter","FieldValue","deleteGPSCoordinates","Notification","Home","customCrossIcon","HomeContainer","handleClosedModal","pushNotice","getNotice","setTimeout","getUser","body","document","dataset","removeAttribute","reader","FileReader","readAsDataURL","onloadend","result","PrivateRoute","component","rest","isUser","render","routeProps","exact","Input","input","meta","visiblePass","infoPass","showHidePassword","onShowPassword","touched","invalid","showPass","autoComplete","data-tooltip","display","active","authContainer","password","confirm","handleSubmit","values","location","pathname","signIn","signUp","history","closeModalError","handleValidate","field","settings","handleValidUserEmail","handleValidUserPassword","handleValidConfirmPass","test","String","confirmPassword","handleToggleShowPassword","renderComponent","showHide","renderProp","onSubmit","onValidate","onToggleShowPassword","ReactComponent","AuthContainer","creds","signInWithEmailAndPassword","firestore","createUserWithEmailAndPassword","withRouter","AuthSocials","onSignInGoogle","onSignInFb","AuthSocialsContainer","providerGoogle","GoogleAuthProvider","providerFacebook","FacebookAuthProvider","signInGoogle","signInFacebook","Button","find","SignIn","reduxForm","valid","Field","validate","SignUp","Topbar","App","isOnline","handleOnliseStatus","status","setOnlineStatus","path","SingIn","SingUp","store","basename","process","getElementById"],"mappings":"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","file":"static/js/main.51759742.chunk.js","sourcesContent":["const LOGIN_REQUSTED = 'LOGIN_REQUSTED';\r\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nconst LOGIN_ERROR = 'LOGIN_ERROR';\r\nconst LOGIN_OUT = 'LOGIN_OUT';\r\n\r\nconst USER_REQESTED = 'USER_REQESTED';\r\nconst USER_REQUEST_DATA = 'USER_REQUEST_DATA';\r\n\r\nconst CROPPER_ADD_PHOTO = 'CROPPER_ADD_PHOTO';\r\nconst CROPPER_ZOOM_PHOTO = 'CROPPER_ZOOM_PHOTO';\r\n\r\nconst MODAL_OPENEND = 'MODAL_OPENEND';\r\nconst POPPER_SHOW = 'POPPER_IS_SHOW';\r\n\r\nconst COORDINATES_REQUESTED = 'COORDINATES_REQUESTED';\r\nconst SET_MAP_COORDINATES = 'SET_MAP_COORDINATES';\r\nconst SET_POSITION_CENTER_MAP = 'SET_POSITION_CENTER_MAP';\r\nconst SET_ERROR_MAP_COORDINATES = 'SET_ERROR_MAP_COORDINATES';\r\nconst SET_MAP_ID = 'SET_MAP_ID';\r\nconst DELETE_MAP_COORDINATES = 'DELETE_MAP_COORDINATES';\r\n\r\nconst GALLERY_FETCH_REQUESTED = 'GALLERY_FETCH_REQUESTED';\r\nconst SET_PHOTO_GALLERY = 'SET_PHOTO_GALLERY';\r\nconst REMOVE_ITEM_GALLERY = 'REMOVE_ITEM_GALLERY';\r\n\r\nconst SET_NOTICE = 'SET_NOTIFICATION';\r\n\r\nconst SET_NEW_THEME = 'SET_THEME';\r\nconst GET_THEME = 'GET_THEME';\r\n\r\nexport {\r\n  LOGIN_REQUSTED,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_ERROR,\r\n  LOGIN_OUT,\r\n  USER_REQESTED,\r\n  USER_REQUEST_DATA,\r\n  CROPPER_ADD_PHOTO,\r\n  CROPPER_ZOOM_PHOTO,\r\n  MODAL_OPENEND,\r\n  POPPER_SHOW,\r\n  COORDINATES_REQUESTED,\r\n  SET_MAP_COORDINATES,\r\n  SET_POSITION_CENTER_MAP,\r\n  SET_ERROR_MAP_COORDINATES,\r\n  DELETE_MAP_COORDINATES,\r\n  SET_MAP_ID,\r\n  GALLERY_FETCH_REQUESTED,\r\n  SET_PHOTO_GALLERY,\r\n  REMOVE_ITEM_GALLERY,\r\n  SET_NOTICE,\r\n  SET_NEW_THEME,\r\n  GET_THEME\r\n}","import * as actionTypes from '../../actions/action_types';\r\n\r\nconst middlewareTheme = ({ getState }) => next => action => {\r\n  const state = getState();\r\n  const local = localStorage;\r\n\r\n  switch(action.type) {\r\n    case actionTypes.SET_NEW_THEME:\r\n      local.setItem('theme', JSON.stringify({ theme: action.payload }));\r\n      return next(action);\r\n    case actionTypes.GET_THEME:\r\n      const data = JSON.parse(local.getItem('theme'));\r\n\r\n      if (data) {\r\n        const { theme } = data;\r\n        next({ type: actionTypes.SET_NEW_THEME, payload: theme });\r\n      }\r\n      break;\r\n    case actionTypes.LOGIN_SUCCESS:\r\n      const user = JSON.parse(local.getItem('_user'));\r\n\r\n      if (user.uid !== state.auth.uid) {\r\n        local.setItem('theme', JSON.stringify({ theme: 'light' }));\r\n        next(action);\r\n      }\r\n      break;\r\n    default:\r\n      return next(action);\r\n  }\r\n}\r\n\r\nexport default middlewareTheme;","import * as actionTypes from '../../actions/action_types';\r\n\r\nconst middlewareAuth = () => next => action => {\r\n  const local = localStorage;\r\n\r\n  switch(action.type) {\r\n    case actionTypes.LOGIN_SUCCESS:\r\n      local.setItem('_user', JSON.stringify({ isLogined: true, uid: action.payload }));\r\n\r\n      return next(action);\r\n    case actionTypes.LOGIN_OUT:\r\n      local.setItem('_user', JSON.stringify({ isLogined : false }));\r\n\r\n      return next(action);\r\n    default:\r\n      return next(action);\r\n  }\r\n}\r\n\r\nexport default middlewareAuth;","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  uid: null,\r\n  isLogined: false,\r\n  loading: false,\r\n  logout: false,\r\n  error: null\r\n};\r\n\r\nconst authReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.LOGIN_REQUSTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        logout: false\r\n      }\r\n    case actionTypes.LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        uid: action.payload,\r\n        isLogined: true,\r\n        loading: false\r\n      }\r\n    case actionTypes.LOGIN_ERROR:\r\n      console.log('ERROR')\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        error: action.payload\r\n      }\r\n    case actionTypes.LOGIN_OUT:\r\n      return {\r\n        ...state,\r\n        isLogined: false,\r\n        logout: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  user: {\r\n    userAvatar: ''\r\n  },\r\n  loading: false\r\n};\r\n\r\nconst userReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.USER_REQESTED:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case actionTypes.USER_REQUEST_DATA:\r\n      return {\r\n        user: {\r\n          userAvatar: action.payload\r\n        },\r\n        loading: false\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  lat: 51.505,\r\n  lng: 0,\r\n  marks: [],\r\n  selectMapId: null,\r\n  errorCords: false, \r\n  loading: false\r\n};\r\n\r\nconst mapLeafletReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.COORDINATES_REQUESTED:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n        errorCords: false\r\n      }\r\n    case actionTypes.SET_ERROR_MAP_COORDINATES:\r\n      return {\r\n        ...state,\r\n        errorCords: true\r\n      }\r\n    case actionTypes.SET_MAP_COORDINATES:\r\n      return {\r\n        ...state,\r\n        marks: state.marks.concat(action.payload),\r\n        loading: false\r\n      }\r\n    case actionTypes.SET_POSITION_CENTER_MAP:\r\n      const { lat, lng } = action.payload;\r\n\r\n      return {\r\n        ...state,\r\n        lat,\r\n        lng,\r\n      }\r\n    case actionTypes.SET_MAP_ID:\r\n      return {\r\n        ...state,\r\n        selectMapId: action.payload\r\n      }\r\n    case actionTypes.DELETE_MAP_COORDINATES:\r\n      return {\r\n        ...state,\r\n        marks: [\r\n          ...action.payload\r\n        ]\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default mapLeafletReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  zoom: 1,\r\n  photo: null\r\n};\r\n\r\nconst cropperReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.CROPPER_ADD_PHOTO:\r\n      return {\r\n        ...state,\r\n        photo: action.payload\r\n      }\r\n    case actionTypes.CROPPER_ZOOM_PHOTO:\r\n      return {\r\n        ...state,\r\n        zoom: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default cropperReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  isOpen: false,\r\n  id: null\r\n};\r\n\r\nconst modalReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.MODAL_OPENEND:\r\n      return {\r\n        isOpen: !state.isOpen,\r\n        id: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default modalReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  popperShow: false\r\n};\r\n\r\nconst popperReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.POPPER_SHOW:\r\n      return {\r\n        popperShow: !state.popperShow\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default popperReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  photos: {},\r\n  loading: false\r\n};\r\n\r\nconst galleryReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.GALLERY_FETCH_REQUESTED:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case actionTypes.SET_PHOTO_GALLERY:\r\n      return {\r\n        photos: {\r\n          ...state.photos,\r\n          ...action.payload\r\n        },\r\n        loading: false\r\n      }\r\n    case actionTypes.REMOVE_ITEM_GALLERY:\r\n      return {\r\n        photos: {\r\n          ...action.payload\r\n        },\r\n        loading: false\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default galleryReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  isNotice: false,\r\n  message: null\r\n};\r\n\r\nconst notificationReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.SET_NOTICE:\r\n      return {\r\n        isNotice: action.payload.notifi,\r\n        message: action.payload.message\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default notificationReducer;\r\n","import * as actionTypes from '../actions/action_types';\r\n\r\nconst initState  = {\r\n  colorTheme: 'light'\r\n};\r\n\r\nconst themeReducer = (state = initState, action) => {\r\n  switch(action.type) {\r\n    case actionTypes.SET_NEW_THEME:\r\n      return {\r\n        colorTheme: action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default themeReducer;","import { combineReducers } from 'redux';\r\nimport { firebaseReducer } from 'react-redux-firebase';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './authReducer';\r\nimport userReducer from './userReducer';\r\nimport mapLeafletReducer from './mapleafletReducer';\r\nimport cropperReducer from './cropperReducer';\r\nimport modalReducer from './modalReducer';\r\nimport popperReducer from './popperReducer';\r\nimport galleryReducer from './galleryReducer';\r\nimport noticeReducer from './noticeReducer';\r\nimport themeReducer from './themeReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  fb: firebaseReducer,\r\n  form: formReducer,\r\n  auth: authReducer,\r\n  user: userReducer,\r\n  cropper: cropperReducer,\r\n  map: mapLeafletReducer,\r\n  modal: modalReducer,\r\n  popper: popperReducer,\r\n  gallery: galleryReducer,\r\n  notice: noticeReducer,\r\n  theme: themeReducer\r\n});\r\n\r\nexport default rootReducer;","import * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n\tapiKey: \"AIzaSyCL9jSqc6dVYH2PKMveC9yyymUkehSHBT4\",\r\n\tauthDomain: \"travel-app-8a5ba.firebaseapp.com\",\r\n\tdatabaseURL: \"https://travel-app-8a5ba.firebaseio.com\",\r\n\tprojectId: \"travel-app-8a5ba\",\r\n\tstorageBucket: \"travel-app-8a5ba.appspot.com\",\r\n\tmessagingSenderId: \"631642393110\",\r\n\tappId: \"1:631642393110:web:d1b2de3b7dad149ec6c337\",\r\n\tmeasurementId: \"G-CGRQ77C7TJ\"\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n// firebase.analytics();\r\n\r\nexport default firebase;","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { reduxFirestore, getFirestore } from 'redux-firestore';\r\nimport { reactReduxFirebase, getFirebase } from 'react-redux-firebase';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport themeMiddleware from './enhancement/themeMiddleware';\r\nimport authMiddleware from './enhancement/authMiddleware';\r\nimport rootReducer from '../reducers/rootReducer';\r\nimport fbConfig from '../fb/firebase';\r\n\r\nconst configureStore = () => {\r\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\n  const store = createStore(rootReducer, composeEnhancers(\r\n    applyMiddleware(\r\n      thunkMiddleware.withExtraArgument({ getFirebase, getFirestore }),\r\n      authMiddleware,\r\n      themeMiddleware\r\n      ),\r\n      reactReduxFirebase(fbConfig),\r\n      reduxFirestore(fbConfig)\r\n  ));\r\n\r\n  return store;\r\n}\r\n\r\nexport default configureStore;\r\n","import * as actionTypes from './action_types';\r\n\r\nconst modalOppened = id => dispatch => {\r\n  dispatch({ type: actionTypes.MODAL_OPENEND, payload: id });\r\n}\r\n\r\nexport {\r\n  modalOppened\r\n}","import * as actionTypes from './action_types';\r\n\r\nconst setCropPhoto = url => dispatch => {\r\n  dispatch({ type: actionTypes.CROPPER_ADD_PHOTO, payload: url });\r\n}\r\n\r\nconst setCropZoomPhoto = zoom => dispatch => {\r\n  dispatch({ type: actionTypes.CROPPER_ZOOM_PHOTO, payload: zoom });\r\n}\r\n\r\nexport {\r\n  setCropPhoto,\r\n  setCropZoomPhoto\r\n}","import * as actionTypes from './action_types';\r\n\r\nconst signIn = ({ email, password }) => async(dispatch, getState, { getFirebase }) => {\r\n  const firebase = getFirebase();\r\n  dispatch({ type: actionTypes.LOGIN_REQUSTED });\r\n\r\n  try {\r\n    const res = await firebase.auth().signInWithEmailAndPassword(email, password);\r\n    dispatch({ type: actionTypes.LOGIN_SUCCESS, payload: res.user.uid });\r\n  } catch (e) {\r\n    dispatch({ type: actionTypes.LOGIN_ERROR, payload: e.message });\r\n  }\r\n}\r\n\r\nconst signUp = ({ email, password }) => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const firebase = getFirebase();\r\n  const firestore = getFirestore();\r\n  dispatch({ type: actionTypes.LOGIN_REQUSTED });\r\n\r\n  try {\r\n    const res = await firebase.auth().createUserWithEmailAndPassword(email, password);\r\n    await firestore.collection('auth_users').doc(res.user.uid).set({\r\n      email,\r\n      password,\r\n      avatar: null,\r\n      uid: res.user.uid\r\n    });\r\n\r\n    dispatch({ type: actionTypes.LOGIN_SUCCESS, payload: res.user.uid });\r\n  } catch (e) {\r\n    dispatch({ type: actionTypes.LOGIN_ERROR, payload: {\r\n      signUp: e.message\r\n    }});\r\n  }\r\n}\r\n\r\nconst signOut = () => async(dispatch, getState, { getFirebase }) => {\r\n  const firebase = getFirebase();\r\n\r\n  await firebase.auth().signOut();\r\n  dispatch({ type: actionTypes.LOGIN_OUT });\r\n}\r\n\r\nconst signInSocials = provider => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const firebase = getFirebase();\r\n  const db = getFirestore();\r\n\r\n  try {\r\n    const res = await firebase.auth().signInWithPopup(provider);\r\n    const { email, photoURL, uid } = res.user;\r\n\r\n    db.collection('auth_users').doc(uid).set({\r\n      email,\r\n      uid,\r\n      avatar: photoURL\r\n    });\r\n\r\n    dispatch({ type: actionTypes.LOGIN_SUCCESS, payload: uid });\r\n  } catch(e) {\r\n    console.log(e.message);\r\n  }\r\n}\r\n\r\nexport {\r\n  signIn,\r\n  signOut,\r\n  signUp,\r\n  signInSocials\r\n};","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport './style.scss';\r\n\r\nconst AppPopperView = props => {\r\n  const { \r\n    onClickCheck,\r\n    onChangeFile,\r\n    onCancel,\r\n    isChecked,\r\n    onLogout,\r\n    nodeRef,\r\n    userData,\r\n    isLogout\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"popper\" ref={ nodeRef }>\r\n    <div className=\"popper-content popper-lg\">\r\n    {/* eslint-disable-next-line */}\r\n      <a\r\n        className='account-header animate-wobble'\r\n        onClick={ onChangeFile }\r\n      >\r\n        <div className='account-thumbnail'>\r\n          <figure className='thumbnail thumbnail-rounded'>\r\n            <div className='user-action-profile'>\r\n              <img src={ userData.userAvatar }  alt=\"\"/>\r\n            </div>\r\n          </figure>\r\n          <span className='picture-edit'/>\r\n        </div>\r\n        <div className='account-heading ellipsis'>\r\n          <span className='account-name'>Edit Photo</span>\r\n        </div>\r\n        <svg className=\"svg-icon svg-icon-chevron-right animate-wobble-target\" focusable=\"false\" height=\"12\" width=\"12\" viewBox=\"0 0 12 12\" aria-hidden=\"true\"><path d=\"M7.3 6l-4.5 4.4a.9.9 0 0 0 0 1.3.8.8 0 0 0 1.3 0l5.2-5.1a.9.9 0 0 0 0-1.2L4.1.3a.9.9 0 0 0-1.3 0 .9.9 0 0 0 0 1.3z\"></path></svg>\r\n      </a>\r\n      <ul\r\n        className='account-menu'\r\n        role='navigation'\r\n      >\r\n        <li className='account-item'>\r\n        {/* eslint-disable-next-line */}\r\n          <a\r\n            className='account-link is-main animate-wobble'\r\n            role='button'\r\n            onClick={ onLogout }\r\n          >\r\n            { isLogout ? <Redirect to='/login'/> : null }\r\n            Log out\r\n          </a>\r\n        </li>\r\n        <li className='account-item'>\r\n         <div className='account-input'>\r\n           <div className='account-input-label is-main'>Dark mode</div>\r\n           <label \r\n              className={ `input-switch ${ isChecked ? 'is-checked' : '' }` }\r\n              onClick={ onClickCheck }\r\n            >\r\n             <input type=\"checkbox\" className='input-control' />\r\n           </label>\r\n         </div>\r\n        </li>\r\n        <li className='account-item'>\r\n          {/* eslint-disable-next-line */}\r\n          <a \r\n            className='popper-cancel'\r\n            role='button'\r\n            onClick={ onCancel }\r\n          >\r\n            Cancel\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div className='popper-arrow'></div>\r\n  </div>\r\n  )\r\n}\r\n\r\nAppPopperView.propTypes = {\r\n  onClickCheck: PropTypes.func,\r\n  onLogout: PropTypes.func,\r\n  isChecked: PropTypes.bool,\r\n  userData: PropTypes.object\r\n}\r\n\r\nexport default AppPopperView;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { signOut } from '../../actions/auth_actions';\r\nimport { setTheme } from '../../actions/theme_actions';\r\nimport { popperShow } from '../../actions/popper_actions';\r\nimport Popper from './popper_view';\r\n\r\nclass PopperContainer extends Component {\r\n  ref = React.createRef();\r\n\r\n  state = {\r\n    isChecked: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('click', this.handleOutsideClick);\r\n\r\n    this.unsubscribe = () => {\r\n      window.removeEventListener('click', this.handleOutsideClick);  \r\n    }\r\n\r\n    if (this.props.colorTheme !== 'light') {\r\n      this.setState({ isChecked: true });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { isChecked } = this.state;\r\n\r\n    if (isChecked !== prevState.isChecked) {\r\n      this.props.theme(isChecked ? 'dark' : 'light');\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unsubscribe();\r\n  }\r\n\r\n  handlerChecked = evt => {\r\n    if (evt && evt.preventDefault) {\r\n      evt.preventDefault();\r\n    }\r\n\r\n    this.setState(state => {\r\n      return {\r\n        isChecked: !state.isChecked\r\n      }\r\n    });\r\n  }\r\n\r\n  handleOutsideClick = evt => {\r\n    if (this.ref.current && this.ref.current.contains(evt.target)) {\r\n      return;\r\n    }\r\n    \r\n    this.props.togglePopper();\r\n  }\r\n\r\n  handleSignOut = () => {\r\n    const { togglePopper } = this.props;\r\n    \r\n    this.props.signOut().then(togglePopper);\r\n  }\r\n\r\n  render() {\r\n    const { isChecked } = this.state;\r\n    const { onChangeFile, onCancel, logout } = this.props;\r\n\r\n    return (\r\n      <Popper\r\n        isChecked={ isChecked }\r\n        isLogout={ logout }\r\n        nodeRef={ this.ref }\r\n        userData={ this.props.user }\r\n        onClickCheck={ this.handlerChecked }\r\n        onLogout={ this.handleSignOut }\r\n        onChangeFile={ onChangeFile }\r\n        onCancel={ onCancel }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, theme, auth }) => {\r\n  return {\r\n    user: user.user,\r\n    logout: auth.logout,\r\n    colorTheme: theme.colorTheme\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signOut: () => dispatch(signOut()),\r\n    theme: theme => dispatch(setTheme(theme)),\r\n    togglePopper: () => dispatch(popperShow())\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(PopperContainer);","import Pooper from './popper_container';\r\n\r\nexport default Pooper;","import * as actionTypes from './action_types';\r\n\r\nconst setTheme = theme => dispatch => {\r\n  dispatch({ type: actionTypes.SET_NEW_THEME, payload: theme });\r\n}\r\n\r\nconst getTheme = () => dispatch => {\r\n  dispatch({ type: actionTypes.GET_THEME });\r\n}\r\n\r\nexport {\r\n  setTheme,\r\n  getTheme\r\n}","import * as actionTypes from './action_types';\r\n\r\nconst popperShow = () => dispatch => {\r\n  dispatch({ type: actionTypes.POPPER_SHOW });\r\n}\r\n\r\nexport {\r\n  popperShow\r\n}","import React from 'react';\r\nimport ReactModal from 'react-modal';\r\nimport './style.scss';\r\n\r\nReactModal.setAppElement('#root');\r\n\r\nconst Modal = props => {\r\n  return (\r\n    <ReactModal\r\n      { ...props }\r\n    >\r\n      { props.children }\r\n    </ReactModal>\r\n  );\r\n}\r\n\r\nexport default Modal;","import Modal from './modal';\r\n\r\nexport default Modal;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { updateUserData } from '../../actions/user_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport { setCropZoomPhoto } from '../../actions/cropper_actions';\r\nimport Cropper from 'react-avatar-editor';\r\nimport InputRange from 'react-input-slider';\r\n\r\nclass EditorPhoto extends Component {\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tif (this.props.updatePhoto !== prevProps.updatePhoto) {\r\n\t\t\tthis.props.toggleModal();\r\n\t\t}\r\n\t}\r\n\r\n\thandleZoomSlider = value => {\r\n    this.props.cropZoomPhoto(value);\r\n  };\r\n\r\n  handleResetZommSlider = () => {\r\n\t\tthis.props.cropZoomPhoto(1);\r\n\t};\r\n\r\n\thandleSave = () => {\r\n\t\tif (this.editor) {\r\n\t\t\tconst canvasScaled = this.editor.getImageScaledToCanvas();\r\n\r\n\t\t\tcanvasScaled.toBlob(blob => {\r\n\t\t\t\tthis.props.updateUserAvatar(blob);\r\n\t\t\t});\r\n\t\t}\r\n  };\r\n\t\r\n\thandleCancel = () => {\r\n\t\tthis.handleResetZommSlider();\r\n\t\tthis.props.toggleModal();\r\n\t};\r\n\t\r\n\tsetEditorRef = editor => this.editor = editor;\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"cropper\">\r\n\t\t\t\t<Cropper\r\n\t\t\t\t\tref={ this.setEditorRef }\r\n\t\t\t\t\timage={ this.props.cropper.photo }\r\n\t\t\t\t\twidth={ 250 }\r\n\t\t\t\t\theight={ 250 }\r\n\t\t\t\t\tborder={ 0 }\r\n\t\t\t\t\tborderRadius={ 250 * 2 }\r\n\t\t\t\t\tcolor={ [255, 255, 255, 0.6] }\r\n\t\t\t\t\tscale={ this.props.cropper.zoom }\r\n\t\t\t\t\trotate={ 0 }\r\n\t\t\t\t/>\r\n\t\t\t\t<span className=\"crop-title\">Select an area for your profile photo</span>\r\n\t\t\t\t<InputRange \r\n\t\t\t\t\taxis=\"x\"\r\n\t\t\t\t\tx={ this.props.cropper.zoom }\r\n\t\t\t\t\txmin={ 1 }\r\n\t\t\t\t\txmax={ 10 }\r\n\t\t\t\t\txstep={ 0.1 }\r\n\t\t\t\t\tonChange={ ({ x }) => this.handleZoomSlider(x) }\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"crop-controls\">\r\n          <button \r\n            className=\"crop-control\" \r\n            onClick={ this.handleCancel }\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button \r\n            className=\"crop-control\" \r\n\t\t\t\t\t\tonClick={ this.handleSave }\r\n          >\r\n            Save \r\n          </button>\r\n        </div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = ({ cropper, user }) => {\r\n  return {\r\n\t\tcropper,\r\n\t\tupdatePhoto: user.user.userAvatar\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n\t\tupdateUserAvatar: url => dispatch(updateUserData(url)),\r\n\t\tcropZoomPhoto: zoom => dispatch(setCropZoomPhoto(zoom)),\r\n\t\ttoggleModal: () => dispatch(modalOppened()),\r\n  }\r\n}\r\n\r\nEditorPhoto.propTypes = {\r\n\teditorRef: PropTypes.func,\r\n\tonChangeZoom: PropTypes.func,\r\n\tphotoUrl: PropTypes.string,\r\n\trangeZoom: PropTypes.number,\r\n}\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\tmapDispatchToProps)(EditorPhoto);","import Cropper from './cropper';\r\n\r\nexport default Cropper;","import * as actionTypes from './action_types';\r\n\r\nconst getUserData = () => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const firebase = getFirebase();\r\n  const db = getFirestore();\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n\r\n  dispatch({ type: actionTypes.USER_REQESTED });\r\n  const docRef = db.collection('auth_users').doc(localData.uid);\r\n  const res = await docRef.get();\r\n\r\n  if (res.exists) {\r\n    const { avatar } = res.data();\r\n\r\n    if (!avatar) {\r\n      const url = await firebase.storage().ref('users/user_default_avatar/5.png').getDownloadURL();\r\n      const data = await fetch(url);\r\n\r\n      if (data.ok) {\r\n        const blob = await data.blob();\r\n        const reader = new FileReader();\r\n\r\n        reader.readAsDataURL(blob);\r\n        reader.onloadend = () => {\r\n          dispatch({ type: actionTypes.USER_REQUEST_DATA, payload: reader.result });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (avatar) {\r\n      dispatch({ type: actionTypes.USER_REQUEST_DATA, payload: avatar });\r\n    }\r\n  } else {\r\n    console.log(\"No such document!\");\r\n  }\r\n}\r\n\r\nconst updateUserData = file => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const firebase = getFirebase();\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n  const db = getFirestore();\r\n\r\n  try {\r\n    const snapshot = await firebase.storage().ref(`users/${localData.uid}/user_avatar/`).put(file);\r\n    const url = snapshot.ref.getDownloadURL();\r\n\r\n    db.collection('users').doc(localData.uid).update({\r\n      avatar: url\r\n    });\r\n    \r\n    dispatch({ type: actionTypes.USER_REQUEST_DATA, payload: url });\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport {\r\n  getUserData,\r\n  updateUserData\r\n}","import React from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport Popper from '../popper';\r\nimport ReactModal from '../modal';\r\nimport Cropper from '../cropper';\r\nimport './style.scss';\r\n\r\nconst EditorView = props => {\r\n  const { \r\n    isPopperShow,\r\n    userData,\r\n    isOpen,\r\n    isEmpty,\r\n    fileRef,\r\n    popperRef,\r\n    onChange,\r\n    onChangeFile,\r\n    onClickPopper,\r\n    onCloseModal\r\n  } = props;\r\n\r\n  if (isEmpty) {\r\n    return (\r\n      <div className='sekeletonbox-avatar'/>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"user-action\">\r\n      <button \r\n        type='button' \r\n        className='upload-file user-action-profile'\r\n        onClick={ onClickPopper }\r\n      >\r\n        <img src={ userData.userAvatar } alt=\"user-avatar\"/>\r\n      </button>\r\n      <input \r\n        type=\"file\"\r\n        accept=\"image/jpeg,image/png\"\r\n        multiple={ false }\r\n        onChange={ onChange }\r\n        className=\"input-file\"\r\n        ref={ fileRef }\r\n      />\r\n      <CSSTransition\r\n        in={ isPopperShow }\r\n        timeout={ 350 }\r\n        classNames='dropdown'\r\n        unmountOnExit\r\n      >\r\n        <Popper \r\n          onChangeFile={ onChangeFile }\r\n          onCancel={ onClickPopper }\r\n          popperRef={ popperRef }\r\n          { ...props }\r\n        />\r\n      </CSSTransition>\r\n      <ReactModal\r\n        isOpen={ isOpen }\r\n        onRequestClose={ onCloseModal }\r\n        className=\"modal modal-cropper\"\r\n        overlayClassName=\"modal-mask\"\r\n      >\r\n        <Cropper/>\r\n      </ReactModal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditorView;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setCropPhoto, setCropZoomPhoto } from '../../actions/cropper_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport { popperShow } from '../../actions/popper_actions';\r\nimport UploadAvatar from './upload_avatar';\r\n\r\nclass UploadAvatarContainer extends Component {\r\n  fileInput = React.createRef();\r\n  modal_id = 'modal_cropper';\r\n\r\n  handleChange = evt => {\r\n    const { cropPhoto, toggleModal, cropZoomPhoto } = this.props;\r\n    cropZoomPhoto(1);\r\n\r\n    if (evt.target.files.length) {\r\n      const file = evt.target.files[0];\r\n      const url = window.URL.createObjectURL(file);\r\n\r\n      toggleModal(this.modal_id);\r\n      cropPhoto(url);\r\n    }\r\n  };\r\n\r\n  handleChangeFile = () => {\r\n    this.fileInput.current.click();\r\n  };\r\n\r\n  handlePopper = evt => {\r\n    evt.stopPropagation();\r\n    \r\n    this.props.togglePopper();\r\n  }\r\n\r\n  handleCloseModal = () => {\r\n    this.props.toggleModal();\r\n  }\r\n\r\n  render() {\r\n    const { id, popperShow, isEmpty } = this.props;\r\n\r\n    return (\r\n      <UploadAvatar\r\n        userData={ this.props.user }\r\n        isPopperShow={ popperShow }\r\n        isOpen={ id === this.modal_id }\r\n        isEmpty={ isEmpty }\r\n        fileRef={ this.fileInput }\r\n        onChange={ this.handleChange }\r\n        onChangeFile={ this.handleChangeFile }\r\n        onClickPopper={ this.handlePopper }\r\n        onCloseModal={ this.handleCloseModal }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, modal, popper }) => {\r\n  return {\r\n    id: modal.id,\r\n    user: user.user,\r\n    isEmpty: user.loading,\r\n    popperShow: popper.popperShow\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    cropPhoto: url => dispatch(setCropPhoto(url)),\r\n    cropZoomPhoto: zoom => dispatch(setCropZoomPhoto(zoom)),\r\n    toggleModal: (id) => dispatch(modalOppened(id)),\r\n    togglePopper: () => dispatch(popperShow())\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(UploadAvatarContainer);","import UploadAvatar from './upload_avatar_container';\r\n\r\nexport default UploadAvatar;","import * as actionTypes from './action_types';\r\n\r\nconst setGPSCoordinatesOfPhotos = (file, cords) => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const firebase = getFirebase();\r\n  const db = getFirestore();\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n  dispatch({ type: actionTypes.COORDINATES_REQUESTED });\r\n\r\n  try {\r\n    const { id } = cords;\r\n    const data = getState().gallery.photos;\r\n    const dataIsEmpty = !!Object.keys(data).length;\r\n    const docRef = await db.collection('map_location').doc(localData.uid);\r\n    const refData = docRef.get();\r\n\r\n    if (dataIsEmpty) {\r\n      const { ref } = await firebase.storage().ref(`users/${localData.uid}/gallery/${id}/${file.name}`).put(file);\r\n      const src = ref.getDownloadURL();\r\n\r\n      if (!data.hasOwnProperty(id)) {\r\n        data[id] = [{ src, name: ref.name }];\r\n      }\r\n    }\r\n\r\n    if (refData.exists) {\r\n      db.collection('map_location').doc(localData.uid).update({\r\n        [id]: [{ ...cords }]\r\n      });\r\n    } else {\r\n      db.collection('map_location').doc(localData.uid).set({\r\n        [id]: [{ ...cords }]\r\n      });\r\n    }\r\n    \r\n    if (dataIsEmpty) {\r\n      dispatch({ type: actionTypes.SET_PHOTO_GALLERY, payload: data });\r\n    }\r\n\r\n    dispatch({ type: actionTypes.SET_MAP_COORDINATES, payload: cords });\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nconst getAllPhotosAndGPSCoordinates = () => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const firebase = getFirebase();\r\n  const db = getFirestore();\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n\r\n  try {\r\n    const storageRef = await firebase.storage().ref(`users/${localData.uid}/`);\r\n    const listRef = await storageRef.child(`gallery/`);\r\n    const docRef = await db.collection('map_location').doc(localData.uid);\r\n    const cords = await docRef.get();\r\n\r\n    const list = await listRef.listAll();\r\n    list.prefixes.forEach(async({ name: id, fullPath: url }) => {\r\n      const res = await firebase.storage().ref(url).listAll();\r\n      res.items.forEach(async({ name, fullPath: url }) => {\r\n        const { timeCreated } = await firebase.storage().ref(url).getMetadata();\r\n        const src = await firebase.storage().ref(url).getDownloadURL();\r\n        const data = getState().gallery.photos;\r\n\r\n        if (!data.hasOwnProperty(id)) {\r\n          data[id] = [{ src, name, timeCreated }];\r\n        }\r\n\r\n        if (data[id].length) {\r\n          const noMatches = data[id].every(el => el.name.includes(name));\r\n          \r\n          if (!noMatches) {\r\n            data[id].push({ src, name, timeCreated });\r\n          }\r\n        }\r\n\r\n        data[id].sort((a, b) => (\r\n          new Date(b.timeCreated) - new Date(a.timeCreated)\r\n        ))\r\n\r\n        if (list.prefixes.length === Object.keys(data).length) {\r\n          if (cords.exists) {\r\n            const data = [];\r\n            \r\n            for (let key in cords.data()) {\r\n              data.push(...cords.data()[key]);\r\n            }\r\n            \r\n            dispatch({ type: actionTypes.SET_MAP_COORDINATES, payload: data });\r\n          }\r\n\r\n          dispatch({ type: actionTypes.SET_PHOTO_GALLERY, payload: data });\r\n        }\r\n      })\r\n    })\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nconst setPositionCenterMap = cords => dispatch => {\r\n  const lat = cords[0];\r\n  const lng = cords[1];\r\n\r\n  dispatch({ type: actionTypes.SET_POSITION_CENTER_MAP, payload: {\r\n    lat,\r\n    lng\r\n  }});\r\n}\r\n\r\nconst deleteGPSCoordinates = id => async(dispatch, getState, { getFirebase, getFirestore }) => {\r\n  const db = getFirestore();\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n\r\n  const { marks } = getState().map;\r\n  const data = getState().gallery.photos;\r\n  \r\n  if (!data.hasOwnProperty(id)) {\r\n    const newMarks = marks.filter(el => el.id !== id);\r\n\r\n    db.collection('map_location').doc(localData.uid).update({\r\n      [id]: db.FieldValue.delete()\r\n    });\r\n\r\n    dispatch({ type: actionTypes.DELETE_MAP_COORDINATES, payload: newMarks });\r\n  }\r\n}\r\n\r\nconst setMapId = id => dispatch => {\r\n  dispatch({ type: actionTypes.SET_MAP_ID, payload: id });\r\n}\r\n\r\nconst failGPSCoordinates = () => dispatch => {\r\n  dispatch({ type: actionTypes.SET_ERROR_MAP_COORDINATES });\r\n}\r\n\r\nexport {\r\n  setGPSCoordinatesOfPhotos,\r\n  getAllPhotosAndGPSCoordinates,\r\n  setPositionCenterMap,\r\n  setMapId,\r\n  deleteGPSCoordinates,\r\n  failGPSCoordinates\r\n}","class SeviceGeocoder {\r\n  async getData([ lat, lon ]) {\r\n    const api_key = '668d0ff8a40145fbb39d331c203442b6';\r\n    const api_url = `https://api.opencagedata.com/geocode/v1/json?key=${api_key}&q=${encodeURIComponent(`${lat.toString()},${lon.toString()}`)}&pretty=1&no_annotations=1&language=en`;\r\n    const data = {\r\n      lon,\r\n      lat\r\n    };\r\n\r\n    try {\r\n      const res = await fetch(api_url);\r\n\r\n      if (res.ok) {\r\n        const { results } = await res.json();\r\n        const components = results[0].components;\r\n\r\n        for (let key in components) {\r\n          if (key === 'ISO_3166-1_alpha-3') {\r\n            data.id = components[key];\r\n          }\r\n        }\r\n      }\r\n    } catch(e) {\r\n      console.log(e);\r\n    }\r\n\r\n    return data;\r\n  }\r\n}\r\n\r\nexport default SeviceGeocoder;","import Spinner from './spinner_view';\r\n\r\nexport default Spinner;","import React from 'react';\r\nimport './style.scss';\r\n\r\nconst Spinner = ({ mode = 'white', width, height }) => {\r\n  return(\r\n    <div \r\n      className={ `spinner ${ mode }` }\r\n      style={{ width, height }}\r\n    >\r\n      <svg\r\n        focusable=\"false\"\r\n        preserveAspectRatio=\"xMidYMid meet\"\r\n        viewBox=\"0 0 51.6 51.6\"\r\n        style={{\r\n          width: \"56px\",\r\n          height: \"56px\"\r\n        }}\r\n      >\r\n        <circle\r\n          cx=\"50%\"\r\n          cy=\"50%\"\r\n          r=\"23\"\r\n          className=\"ng-star-inserted\"\r\n          style={{\r\n            animationName: \"mat-progress-spinner-stroke-rotate-56\",\r\n            strokeDasharray: \"144.513px\",\r\n            strokeWidth: \"10%\"\r\n          }}\r\n        />\r\n      </svg>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Spinner;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactModal from '../modal';\r\nimport Spinner from '../spinner';\r\nimport './style.scss';\r\n\r\nconst UploadFileView = props => {\r\n  const { \r\n    onChange,\r\n    onClick,\r\n    isLoading,\r\n    isEmpty,\r\n    fileInput,\r\n    isOpen,\r\n    onCloseModal\r\n  } = props;\r\n\r\n  if (isEmpty) {\r\n    return (\r\n      <div className='skeletonscreen-topbar'/>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <button\r\n        type='button'\r\n        className='upload-photos'\r\n        onClick={ onClick }\r\n      >\r\n        { isLoading ? <Spinner mode='dark' width='20px' height='20px' /> : null }\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className='svg-icon' viewBox=\"0 0 384.97 384.97\" width='15' height='15'>\r\n          <path d=\"M372.939 264.641c-6.641 0-12.03 5.39-12.03 12.03v84.212H24.061v-84.212c0-6.641-5.39-12.03-12.03-12.03S0 270.031 0 276.671v96.242c0 6.641 5.39 12.03 12.03 12.03h360.909c6.641 0 12.03-5.39 12.03-12.03v-96.242c.001-6.652-5.389-12.03-12.03-12.03z\"/>\r\n          <path d=\"M117.067 103.507l63.46-62.558v235.71c0 6.641 5.438 12.03 12.151 12.03s12.151-5.39 12.151-12.03V40.95l63.46 62.558c4.74 4.704 12.439 4.704 17.179 0 4.74-4.704 4.752-12.319 0-17.011L201.268 3.5c-4.692-4.656-12.584-4.608-17.191 0L99.888 86.496a11.942 11.942 0 000 17.011c4.74 4.704 12.439 4.704 17.179 0z\"/>\r\n        </svg>\r\n        <span className='upload-photos-label'>Upload file</span>\r\n        <input \r\n          type=\"file\" \r\n          multiple\r\n          className=\"input-file\"\r\n          onChange={ onChange }\r\n          ref={ fileInput }\r\n        />\r\n      </button>\r\n      <ReactModal\r\n        isOpen={ isOpen }\r\n        onRequestClose={ onCloseModal }\r\n        className=\"modal modal-error\"\r\n        overlayClassName=\"modal-mask\"\r\n      >\r\n        <div className='modal-content'>\r\n          <div className='modal-error-title'>Warning</div>\r\n          <div className='error-text'>We could not get the geolocation data from your photos, you can add photos manually by selecting a country, and add photos yourself.</div>\r\n        </div>\r\n        <button \r\n          className='modal-btn'\r\n          onClick={ onCloseModal }\r\n        >\r\n          OK\r\n        </button>\r\n      </ReactModal>\r\n    </>\r\n  )\r\n}\r\n\r\nUploadFileView.propTypes = {\r\n  onChange: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  isLoading: PropTypes.bool\r\n}\r\n\r\nexport default UploadFileView;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { failGPSCoordinates } from '../../actions/map_actions';\r\nimport { setGPSCoordinatesOfPhotos } from '../../actions/map_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport EXIF from 'exif-js';\r\nimport ServiceGeoocoder from '../../services/service_geocoder';\r\nimport UploadFile from './upload_file';\r\n\r\nclass UploadFileContainer extends Component {\r\n  fileInput = React.createRef();\r\n  modal_id = 'modal_info';\r\n  serviceGeoocoder = new ServiceGeoocoder();\r\n\r\n  handleChange = evt => {\r\n    const files = evt.target.files;\r\n\r\n\t\tArray.from(files).forEach(file => this.getFile(file));\r\n\t}\r\n\r\n  handleClick = () => {\r\n    this.fileInput.current.click();\r\n  };\r\n\r\n  handleModalClose = () => {\r\n    this.props.toggleModal();\r\n  }\r\n\r\n  getGPSCoordinates(coordinates) {\r\n    return new Promise((res, req) => {\r\n      if (coordinates) {\r\n        const resCords = coordinates[0].numerator + coordinates[1].numerator / (60 * coordinates[1].denominator) + coordinates[2].numerator / (3600 * coordinates[2].denominator);\r\n        res(resCords);\r\n      } else {\r\n        req();\r\n      }\r\n    });\r\n  }\r\n\r\n  getFile(file) {\r\n    const { setPhotoCoordinates, toggleModal, setError } = this.props;\r\n\r\n    EXIF.getData(file, () => {\r\n      Promise.all([\r\n        this.getGPSCoordinates(EXIF.getTag(file, 'GPSLatitude')),\r\n        this.getGPSCoordinates(EXIF.getTag(file, 'GPSLongitude'))\r\n      ])\r\n      .then(data => {\r\n        this.serviceGeoocoder.getData(data)\r\n        .then(cords => setPhotoCoordinates(file, cords))\r\n      }, \r\n      () => {\r\n        toggleModal(this.modal_id);\r\n        setError();\r\n      })\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { loading, isEmpty, errorCords, id } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <UploadFile\r\n          onChange={ this.handleChange }\r\n          onClick={ this.handleClick }\r\n          onCloseModal={ this.handleModalClose }\r\n          isLoading={ loading }\r\n          isEmpty={ isEmpty }\r\n          fileInput={ this.fileInput }\r\n          errorCords={ errorCords }\r\n          isOpen={ id === this.modal_id }\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, map, modal }) => {\r\n  return {\r\n    isEmpty: user.loading,\r\n    loading: map.loading,\r\n    errorCords: map.errorCords,\r\n    id: modal.id\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setPhotoCoordinates: (file, cords) => dispatch(setGPSCoordinatesOfPhotos(file, cords)),\r\n    setError: () => dispatch(failGPSCoordinates()),\r\n    toggleModal: (id) => dispatch(modalOppened(id))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(UploadFileContainer);","import UploadFile from './upload_file_container';\r\n\r\nexport default UploadFile;","import Logo from './logo';\r\n\r\nexport default Logo;","import React from 'react';\r\nimport './style.scss';\r\n\r\nconst Logo = () => {\r\n  return (\r\n    <a href=\"/\" className='app-logo'>\r\n      <span className='app-logo-pic'/>\r\n      <span className='app-logo-text'>\r\n        <span>Tra</span>velup\r\n      </span>\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default Logo;","import Header from './header';\r\n\r\nexport default Header;","import React from 'react';\r\nimport UploadAvatar from '../upload_avatar';\r\nimport UploadFile from '../upload_file';\r\nimport Logo from '../logo';\r\nimport './style.scss';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className='app-header'>\r\n      <div className=\"app-header-container\">\r\n        <div className=\"app-header-left\">\r\n          <Logo/>\r\n        </div>\r\n        <div className='app-header-right'>\r\n          <UploadFile/>\r\n          <UploadAvatar/>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","class ServiceGeoCordinats {\r\n  async getCords(id) {\r\n    const res = await fetch(`https://restcountries.eu/rest/v2/alpha/${id}/?fields=latlng`);\r\n\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n  }\r\n}\r\n\r\nexport default ServiceGeoCordinats;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Map, Marker, TileLayer, GeoJSON } from 'react-leaflet';\r\nimport { divIcon } from 'leaflet';\r\nimport MapGeo from './map.geo.json';\r\nimport { getAllPhotosAndGPSCoordinates, setMapId, setPositionCenterMap } from '../../actions/map_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport ServiceGeoCoordinates from '../../services/service_geo_cordinats';\r\nimport './style.scss';\r\n\r\nclass Mapleaflet extends Component {\r\n  serviceGeoCoordinates = new ServiceGeoCoordinates();\r\n  map_dark = 'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png';\r\n  map_light = 'https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png';\r\n\r\n  componentDidMount() {\r\n    this.props.getAllPhotos();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { marks } = this.props.map;\r\n\r\n    if (marks.length !== prevProps.map.marks.length) {\r\n      const _id = marks[marks.length -1].id;\r\n\r\n      this.serviceGeoCoordinates.getCords(_id)\r\n        .then(cords => this.props.setCenterMap(cords.latlng));\r\n    }\r\n  }\r\n\r\n  handleMouseOver = evt => {\r\n    const ctx = evt.layer;\r\n    const isColor = this.props.colorTheme === 'dark' ? '#323232' : '#fffdf9';\r\n    const isOpacity = this.props.colorTheme === 'dark' ? 0.35 : 0.65;\r\n\r\n    ctx.setStyle({\r\n      weight: 0,\r\n      fillColor:  isColor,\r\n      fillOpacity: isOpacity,\r\n    })\r\n  }\r\n\r\n  handleMouseOut = evt => {\r\n    evt.target.resetStyle(evt.layer);\r\n  }\r\n\r\n  mapCustomMarkIcon = id => {\r\n    const { images } = this.props;\r\n    const items = images[id];\r\n\r\n    return divIcon({\r\n      html: `\r\n        <img src=${ items[0].src } alt='preview photo'>\r\n        <span class='marker-quantity'>${ items.length }</span>  \r\n        `,\r\n      className: 'iconButtonAddPhoto',\r\n      iconAnchor: [20, 40],\r\n      iconSize: [40, 40]\r\n    });\r\n  }\r\n\r\n  mapLayerStyled() {\r\n    return {\r\n      fill: true,\r\n      fillColor: 'transparent',\r\n      weight: 0,\r\n      width: 100\r\n    }\r\n  }\r\n\r\n  filterCountryId = evt => {\r\n    const { options } = evt.target;\r\n    const { map, toggleModal, selectCountry } = this.props;\r\n\r\n    map.marks.forEach(item => {\r\n      if (item.id.includes(options.position.id)) {\r\n        selectCountry(options.position.id);\r\n        toggleModal('modal_gallery');\r\n      }\r\n    });\r\n  }\r\n\r\n  selectedCountry = evt => {\r\n    const { map, selectCountry, toggleModal } = this.props;\r\n    const { id } = evt.layer.feature;\r\n\r\n    if (!map.marks.some(item => item.id === id)) {\r\n      selectCountry(evt.layer.feature.id);\r\n      toggleModal('modal_gallery');\r\n    } else {\r\n      evt.originalEvent.stopPropagation();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { map, colorTheme } = this.props;\r\n    const position = [this.props.map.lat, this.props.map.lng];\r\n\r\n    return (\r\n      <Map\r\n        className='app-map'\r\n        center={ position }\r\n        zoom={ 3 }\r\n        maxBounds={ [[90, -180], [-70, 180]] }\r\n      >\r\n        <TileLayer\r\n          url={ colorTheme === 'dark' ? this.map_dark : this.map_light }\r\n          minZoom={ 3 }\r\n          maxZoom={ 5 }\r\n        />\r\n        <GeoJSON \r\n          data={ MapGeo } \r\n          style={ this.mapLayerStyled }\r\n          onMouseOver={ this.handleMouseOver }\r\n          onMouseOut={ this.handleMouseOut }\r\n          onClick={ evt => this.selectedCountry(evt) }\r\n        />\r\n        { map.marks.map(cords => (\r\n          <Marker \r\n            key={ cords.id }\r\n            position={ cords }\r\n            icon={ this.mapCustomMarkIcon(cords.id) }\r\n            onClick={ evt => this.filterCountryId(evt)}\r\n          />\r\n        ))}\r\n      </Map>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ map, gallery, theme }) => {\r\n  return {\r\n    images: gallery.photos,\r\n    colorTheme: theme.colorTheme,\r\n    map\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getAllPhotos: () => dispatch(getAllPhotosAndGPSCoordinates()),\r\n    setCenterMap: cords => dispatch(setPositionCenterMap(cords)),\r\n    toggleModal: id => dispatch(modalOppened(id)),\r\n    selectCountry: id => dispatch(setMapId(id))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(Mapleaflet);","import AppMap from './map';\r\n\r\nexport default AppMap;","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst SidebarItem = props => {\r\n  const { \r\n    countName,\r\n    countCode,\r\n    countId,\r\n    onSelectCountry,\r\n    onCountVisited\r\n  } = props;\r\n\r\n  const falagIcon = `https://www.countryflags.io/${countCode}/shiny/64.png`;\r\n\r\n  return (\r\n    <div \r\n      className='sidebar-item'\r\n      onClick={ () => onSelectCountry(countId) }\r\n    >\r\n      { onCountVisited(countId) }\r\n      <span className='sidebar-item-label'>{ countName }</span>\r\n      <span className='icon-flag' style={{ backgroundImage: `url(${falagIcon})` }}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nSidebarItem.propTypes = {\r\n  countName: PropTypes.string,\r\n  countCode: PropTypes.string,\r\n  countId: PropTypes.string,\r\n  onSelectCountry: PropTypes.func,\r\n  onCountVisited: PropTypes.func\r\n}\r\n\r\nexport default SidebarItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport { features } from '../map_leaflet/map.geo.json';\r\nimport Item from './sidebar_item';\r\nimport './style.scss';\r\n\r\nconst Sidebar = props => {\r\n  const { \r\n    isCountry,\r\n    onFindCountry,\r\n    onSelectCountry,\r\n    onCountVisited,\r\n    isEmpty\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <div className='app-sidebar-search'>\r\n        <input \r\n          type=\"text\" \r\n          className=\"input-search\" \r\n          placeholder=\"Search\"\r\n          onChange={ onFindCountry }\r\n        />\r\n        <span className=\"icon-magnifier\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className='svg-icon' viewBox=\"0 0 56.97 56.97\" width=\"16\" height=\"16\">\r\n          <path d=\"M55.15 51.89l-13.56-14.1A22.93 22.93 0 0 0 46.99 23c0-12.68-10.32-23-23-23s-23 10.32-23 23 10.31 23 23 23c4.76 0 9.3-1.44 13.17-4.16l13.66 14.2a2.98 2.98 0 0 0 4.24.09 3 3 0 0 0 .09-4.24zM23.98 6c9.38 0 17 7.63 17 17s-7.62 17-17 17-17-7.63-17-17 7.63-17 17-17z\" />\r\n        </svg>\r\n        </span>\r\n      </div>\r\n      <Scrollbars\r\n        renderThumbVertical={props => <div {...props} className=\"thumb-vertical\"/>}\r\n      >\r\n        <div className='country-items'>\r\n          { features.map(({ properties, id, code }) => {\r\n            if (isEmpty) {\r\n              return (\r\n                <div className='skeletonscreen' key={ id }>\r\n                  <div className='skeletonscreen-textitem'/>\r\n                  <span className='skeletonscreen-picture'/>\r\n                </div>\r\n              )\r\n            }\r\n\r\n            // eslint-disable-next-line\r\n            if (properties.name.toLowerCase().indexOf(isCountry) != '-1') {\r\n              return (\r\n                <Item \r\n                  key={ id }\r\n                  countName={ properties.name }\r\n                  countCode={ code }\r\n                  countId={ id }\r\n                  onSelectCountry={ onSelectCountry }\r\n                  onCountVisited={ onCountVisited }\r\n                />\r\n              )\r\n            }\r\n\r\n            return null\r\n          })}\r\n        </div>\r\n      </Scrollbars>\r\n    </>\r\n  )\r\n}\r\n\r\nSidebar.propTypes = {\r\n  onFindCountry: PropTypes.func,\r\n  onSelectCountry: PropTypes.func,\r\n  onCountVisited: PropTypes.func,\r\n  isCountry: PropTypes.string\r\n}\r\n\r\nexport default Sidebar;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setMapId } from '../../actions/map_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport Sidebar from './sidebar';\r\n\r\nclass SidebarContainer extends Component {\r\n  state = {\r\n    isFoundCountry: ''\r\n  }\r\n\r\n  handleFindCountry = evt => {\r\n    const label = evt.target.value.trim();\r\n\r\n\t\tthis.setState({\r\n      isFoundCountry: label.toLowerCase()\r\n\t\t});\r\n  }\r\n\r\n  handleSelectCountry = id => {\r\n    const { toggleModal, selectCountry } = this.props;\r\n\r\n    selectCountry(id);\r\n    toggleModal('modal_gallery');\r\n  }\r\n\r\n  —ÅountVisited = id => {\r\n    const { images } = this.props;\r\n\r\n    if (images.hasOwnProperty(id)) {\r\n      const items = images[id];\r\n      const itemLast = items[items.length-1];\r\n\r\n      return (\r\n        <div className='count-visited-pic'>\r\n          <span style={{ backgroundImage: `url(${ itemLast.src })` }} />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Sidebar\r\n        onFindCountry={ this.handleFindCountry }\r\n        onSelectCountry={ this.handleSelectCountry }\r\n        onCountVisited={ this.—ÅountVisited }\r\n        isCountry={ this.state.isFoundCountry }\r\n        isEmpty={ this.props.isEmpty }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ gallery, user }) => {\r\n  return {\r\n    images: gallery.photos,\r\n    isEmpty: user.loading\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    toggleModal: (id) => dispatch(modalOppened(id)),\r\n    selectCountry: id => dispatch(setMapId(id))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(SidebarContainer);","import Sidebar from './sidebar_container';\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst GalleryItem = props => {\r\n  const { \r\n    data,\r\n    isSelected,\r\n    isSelectedItem,\r\n    onSelectedItem,\r\n    onOpenLightBox\r\n  } = props;\r\n\r\n  const { selected, keys } = isSelectedItem;\r\n\r\n  return (\r\n    <div className='gallery-item'>\r\n      {/* eslint-disable-next-line */}\r\n      <a\r\n        className={ `${ isSelected ? 'gallery-item-view on-selected' : 'gallery-item-view' }` }\r\n        onClick={ !isSelected ? () => onOpenLightBox(data.name) : () => onSelectedItem(data.name) }\r\n        >\r\n        { selected && keys.includes(data.name) ? <span className=\"select-check-icon\" /> : null }\r\n        <div className='gallery-item-pic'>\r\n          <img src={ data.src } alt=\"shows countries you visited\"/>\r\n        </div>\r\n        <div className='gallery-item-box'/>\r\n      </a>\r\n    </div>\r\n  )\r\n}\r\n\r\nGalleryItem.propTypes = {\r\n  isSelected: PropTypes.bool,\r\n  isSelectedItem: PropTypes.object,\r\n  data: PropTypes.object\r\n}\r\n\r\nexport default GalleryItem;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Carousel, { Modal, ModalGateway } from 'react-images';\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport GalleryItem from './gallery_item';\r\nimport Spinner from '../spinner';\r\nimport './style.scss';\r\n\r\nconst GalleryGreeting = () => {\r\n  return (\r\n    <div className='gallery-title'>\r\n      <span>You can upload your photos here.</span>\r\n      <span className='pic-info'/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst GalleryView = props => {\r\n  const { \r\n    onDragEnter,\r\n    onDragOver,\r\n    onDragLeave,\r\n    onDrop,\r\n    onChange,\r\n    onClick,\r\n    onClose,\r\n    onSelected,\r\n    onSelectedItem,\r\n    onRemoveItem,\r\n    onOpenLightbox,\r\n    isSelected,\r\n    isSelectedItem,\r\n    islightboxOpen,\r\n    isSelectedIndex,\r\n    isImages,\r\n    isLoading,\r\n    inputRef\r\n  } = props;\r\n\r\n  return (\r\n    <div className='gallery'>\r\n      <div className=\"gallery-head\">\r\n        <div className=\"select-photo\">\r\n          { isImages.length ? (\r\n            <button \r\n              className='select-btn'\r\n              onClick={ onSelected }\r\n            >\r\n              { isSelected ? 'Cancel' : 'Select' }\r\n            </button>\r\n          ) : null }\r\n          { isSelected ? (\r\n            <button\r\n              className=\"gallery-basket\"\r\n              disabled={ !isSelectedItem.selected }\r\n              onClick={ onRemoveItem }\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className='svg-icon' width='18' height='18' viewBox=\"0 0 512 512\">\r\n                <path d=\"M436 60h-90V45c0-24.813-20.187-45-45-45h-90c-24.813 0-45 20.187-45 45v15H76c-24.813 0-45 20.187-45 45v30c0 8.284 6.716 15 15 15h16.183L88.57 470.945l.011.129C90.703 494.406 109.97 512 133.396 512h245.207c23.427 0 42.693-17.594 44.815-40.926l.011-.129L449.817 150H466c8.284 0 15-6.716 15-15v-30c0-24.813-20.187-45-45-45zM196 45c0-8.271 6.729-15 15-15h90c8.271 0 15 6.729 15 15v15H196V45zm197.537 423.408c-.729 7.753-7.142 13.592-14.934 13.592H133.396a14.927 14.927 0 01-14.934-13.592L92.284 150h327.432l-26.179 318.408zM451 120H61v-15c0-8.271 6.729-15 15-15h360c8.271 0 15 6.729 15 15v15z\"/>\r\n                <path d=\"M256 180c-8.284 0-15 6.716-15 15v212c0 8.284 6.716 15 15 15s15-6.716 15-15V195c0-8.284-6.716-15-15-15zM346 180c-8.284 0-15 6.716-15 15v212c0 8.284 6.716 15 15 15s15-6.716 15-15V195c0-8.284-6.716-15-15-15zM166 180c-8.284 0-15 6.716-15 15v212c0 8.284 6.716 15 15 15s15-6.716 15-15V195c0-8.284-6.716-15-15-15z\"/>\r\n              </svg>\r\n            </button>\r\n          ) : null }\r\n        </div>\r\n        <div className=\"head-title\">{ isSelected ? 'Select items' : 'Photos' }</div>\r\n        <div className=\"head-close\">\r\n          <button className='close-btn' onClick={ onClose } >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className='svg-icon' viewBox=\"0 0 47.97 47.97\">\r\n              <path d=\"M28.23 23.99L47.09 5.12A3 3 0 1 0 42.85.88L23.99 19.74 5.12.88A3 3 0 1 0 .88 5.12L19.74 24 .88 42.85a3 3 0 1 0 4.24 4.24L24 28.23l18.86 18.86a3 3 0 0 0 4.24 0 3 3 0 0 0 0-4.24L28.23 23.99z\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n        { isLoading ? <Spinner mode='dark' width='20px' height='20px' /> : null }\r\n      </div>\r\n      <div className=\"gallery-content\">\r\n        <Scrollbars>\r\n          <div className='gallery-wrapper'>\r\n            { !isImages.length ? GalleryGreeting() : null }\r\n            {isImages.map(item => (\r\n              <GalleryItem\r\n                key={ item.name }\r\n                data={ item }\r\n                isSelected={ isSelected }\r\n                isSelectedItem={ isSelectedItem }\r\n                onSelectedItem={ onSelectedItem }\r\n                onOpenLightBox={ onOpenLightbox }\r\n              />\r\n            ))}\r\n          </div>\r\n        </Scrollbars>\r\n        <ModalGateway>\r\n          { islightboxOpen ? (\r\n            <Modal\r\n              onClose={ onOpenLightbox }\r\n            >\r\n              <Carousel\r\n                currentIndex={isSelectedIndex}\r\n                views={isImages}\r\n              />\r\n            </Modal>\r\n          ) : null}\r\n        </ModalGateway>\r\n      </div>\r\n      <div \r\n        className=\"drag-file\"\r\n        onDragEnter={ evt => onDragEnter(evt)}\r\n        onDragOver={evt => onDragOver(evt)}\r\n        onDragLeave={evt => onDragLeave(evt)}\r\n        onDrop={evt => onDrop(evt)}\r\n      >\r\n      <>\r\n        <input \r\n          className=\"input-file\"\r\n          onChange={evt => onChange(evt)}\r\n          type=\"file\" \r\n          name=\"file\" \r\n          multiple accept=\"image/*\"\r\n          ref={ inputRef }\r\n          />\r\n        <div className=\"drag-info\"> \r\n         <span onClick={ onClick }>Browse</span> file to upload\r\n        </div>\r\n      </>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nGalleryView.propTypes = {\r\n  onDragEnter: PropTypes.func,\r\n  onDragOver: PropTypes.func,\r\n  onDragLeave: PropTypes.func,\r\n  onDrop: PropTypes.func,\r\n  onChange: PropTypes.func,\r\n  onClick: PropTypes.func,\r\n  onClose: PropTypes.func,\r\n  onSelected: PropTypes.func,\r\n  onSelectedItem: PropTypes.func,\r\n  onRemoveItem: PropTypes.func,\r\n  onOpenLightbox: PropTypes.func,\r\n  isSelected: PropTypes.bool,\r\n  isSelectedItem: PropTypes.object,\r\n  islightboxOpen: PropTypes.bool,\r\n  isSelectedIndex: PropTypes.number,\r\n  isImages: PropTypes.array,\r\n  isLoading: PropTypes.bool\r\n}\r\n\r\nexport default GalleryView;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setGalleryPhoto, deletedData } from '../../actions/gallery_actions';\r\nimport { deleteGPSCoordinates, setGPSCoordinatesOfPhotos } from '../../actions/map_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport ServicesGeoCordinats from '../../services/service_geo_cordinats';\r\nimport Gallery from './gallery';\r\n\r\nclass GalleryContainer extends Component {\r\n  fileInput = React.createRef();\r\n  serviceGeoCordinats = new ServicesGeoCordinats();\r\n\r\n  state = {\r\n    lightboxIsOpen: false,\r\n    selectedIndex: 0,\r\n    selected: false,\r\n    selectedItem: {\r\n      selected: false,\r\n      keys: []\r\n    }\r\n  }\r\n\r\n  handleClick = () => {\r\n    this.fileInput.current.click();\r\n  }\r\n\r\n  handleChange = async(evt) => {\r\n    const { map, setPhotosGallery, setCoordinates } = this.props;\r\n    const { selectMapId } = map;\r\n    const fileList = evt.target.files;\r\n    const isCoincidence = map.marks.some(({ id }) => id.includes(selectMapId));\r\n\r\n    if (!isCoincidence) {\r\n      const { latlng }  = await this.serviceGeoCordinats.getCords(selectMapId);\r\n\r\n      setCoordinates({\r\n        lat: latlng[0],\r\n        lon: latlng[1],\r\n        id: selectMapId\r\n      });\r\n    }\r\n\r\n    setPhotosGallery(selectMapId, fileList);\r\n  }\r\n\r\n  handleDragOverEnter(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    evt.target.classList.add('dragover');\r\n  }\r\n\r\n  handleDragLeave(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    const rect = evt.target.getBoundingClientRect();\r\n    const dx = evt.clientX - rect.left;\r\n    const dy = evt.clientY - rect.top;\r\n    if ((dx < 0) || (dx >= rect.width) || (dy < 0) || (dy >= rect.height)) {\r\n        evt.target.classList.remove('dragover');\r\n    };\r\n  }\r\n\r\n  handleDragDrop(evt) {\r\n    evt.preventDefault();\r\n    evt.stopPropagation();\r\n    evt.target.classList.remove('dragover');\r\n\t\t// const fileList = evt.dataTransfer.files;\r\n  }\r\n\r\n  handleSelected = () => {\r\n    this.setState(state => {\r\n      const isSelect = !!state.selectedItem.keys.length;\r\n\r\n      return {\r\n        selected: !state.selected,\r\n        selectedItem: {\r\n          selected: isSelect,\r\n          keys: []\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  handleSelectItem = val => {\r\n    this.setState(({ selectedItem }) => {\r\n      const keys = selectedItem.keys;\r\n      const index = keys.findIndex(el => el === val);\r\n      const newArray = [];\r\n      \r\n      // eslint-disable-next-line\r\n      if (index == '-1') {\r\n        newArray.push(...keys.concat(val));\r\n      } else {\r\n        keys.splice(index, 1);\r\n        newArray.push(...keys);\r\n      }\r\n\r\n      return {\r\n        selectedItem: {\r\n          selected: !!newArray.length,\r\n          keys: newArray\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  handleRemoveItem = async() => {\r\n    const { selectedItem } = this.state;\r\n    const { map, deleteDataItem, deleteMapCords } = this.props;\r\n    const { selectMapId } = map;\r\n\r\n    this.setState({\r\n      selected: false,\r\n      selectedItem: {\r\n        selected: false,\r\n        keys: []\r\n      }\r\n    });\r\n\r\n    deleteDataItem(selectMapId, selectedItem);\r\n    deleteMapCords(selectMapId);\r\n  }\r\n\r\n  handleOpenLightbox = name => {\r\n    const { data, map } = this.props;\r\n    const { selectMapId } = map;\r\n    const selectedIndex = data[selectMapId].findIndex(item => item.name === name);\r\n    \r\n    this.setState(state => {\r\n      return {\r\n        lightboxIsOpen: !state.lightboxIsOpen,\r\n        selectedIndex\r\n      }\r\n    })\r\n  };\r\n\r\n  render() {\r\n    const { data, map, closeModal, isLoading } = this.props;\r\n    const { selected, selectedItem, lightboxIsOpen, selectedIndex } = this.state;\r\n    const { selectMapId } = map;\r\n    const images = [];\r\n\r\n    if (data.hasOwnProperty(selectMapId)) {\r\n      data[selectMapId].forEach(el => images.push(el));\r\n    }\r\n\r\n    return (\r\n      <Gallery\r\n        onDragEnter={ this.handleDragOverEnter }\r\n        onDragOver={ this.handleDragOverEnter }\r\n        onDragLeave={ this.handleDragLeave }\r\n        onDrop={ this.handleDragDrop }\r\n        onChange={ this.handleChange }\r\n        onClick={ this.handleClick }\r\n        onClose={ closeModal }\r\n        onSelected={ this.handleSelected }\r\n        onSelectedItem={ this.handleSelectItem }\r\n        onRemoveItem={ this.handleRemoveItem }\r\n        onOpenLightbox={ this.handleOpenLightbox }\r\n        isSelected={ selected }\r\n        isSelectedItem={ selectedItem }\r\n        islightboxOpen={ lightboxIsOpen }\r\n        isSelectedIndex={ selectedIndex }\r\n        isImages={ images }\r\n        isLoading={ isLoading }\r\n        inputRef={ this.fileInput }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ gallery, map }) => {\r\n  return {\r\n    data: gallery.photos,\r\n    isLoading: gallery.loading,\r\n    map\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    setPhotosGallery: (id, files) => dispatch(setGalleryPhoto(id, files)),\r\n    deleteDataItem: (id, delitem) => dispatch(deletedData(id, delitem)),\r\n    setCoordinates: cords => dispatch(setGPSCoordinatesOfPhotos(cords)),\r\n    deleteMapCords: id => dispatch(deleteGPSCoordinates(id)),\r\n    closeModal: () => dispatch(modalOppened())\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(GalleryContainer);","import Gallery from './gallery_container';\r\n\r\nexport default Gallery;","import * as actionTypes from './action_types';\r\n\r\nconst setGalleryPhoto = (id, files) => async(dispatch, getState, { getFirebase }) => {\r\n  const firebase = getFirebase();\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n  \r\n  try {\r\n    const data = getState().gallery.photos;\r\n    dispatch({ type: actionTypes.GALLERY_FETCH_REQUESTED });\r\n\r\n    if (files.length > 1) {\r\n      for (let key in files) {\r\n        console.log(files[key]);\r\n      }\r\n    } else {\r\n      const { ref } = await firebase.storage().ref(`users/${localData.uid}/gallery/${id}/${files[0].name}`).put(files[0]);\r\n      const src = await ref.getDownloadURL();\r\n      \r\n      if (!data.hasOwnProperty(id)) {\r\n        data[id] = [{ src, name: ref.name }];\r\n      } else {\r\n        if (!(data[id].every(el => el.name.includes(ref.name))) || !data[id].length) {\r\n          data[id].push({ src, name: ref.name });\r\n        }\r\n      }\r\n\r\n      dispatch({ type: actionTypes.SET_PHOTO_GALLERY, payload: data });\r\n    }\r\n  } catch(e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nconst deletedData = (id, delItem) => (dispatch, getState, { getFirebase }) => {\r\n  const firebase = getFirebase();\r\n  const data = getState().gallery.photos;\r\n  const localData = JSON.parse(localStorage.getItem('_user'));\r\n\r\n  data[id].forEach((el, idx) => {\r\n    if (delItem.keys.includes(el.name)) {\r\n      data[id].splice(idx, 1);\r\n\r\n      firebase.storage().ref(`users/${localData.uid}/gallery/`).child(`${id}/${el.name}`).delete()\r\n        .then(() => dispatch({ type: actionTypes.SET_NOTICE, payload: {\r\n          notifi: true,\r\n          message: 'Photo removed from gallery'\r\n        }}));\r\n    }\r\n  });\r\n\r\n  if (data.hasOwnProperty(id) && !data[id].length) {\r\n    delete data[id];\r\n  }\r\n\r\n  dispatch({ type: actionTypes.REMOVE_ITEM_GALLERY, payload: data });\r\n}\r\n\r\nexport {\r\n  setGalleryPhoto,\r\n  deletedData\r\n}\r\n","import Notification from './notification';\r\n\r\nexport default Notification;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './style.scss';\r\n\r\nconst Notification = props => {\r\n  const { notice } = props;\r\n\r\n  if (notice.isNotice) {\r\n    return (\r\n      <div className='notification'>\r\n        <div className='notification-text'>\r\n          { notice.message }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return null\r\n}\r\n\r\nNotification.propTypes = {\r\n  notice: PropTypes.object\r\n}\r\n\r\nexport default Notification;","import React from 'react';\r\nimport { slide as Menu } from 'react-burger-menu';\r\nimport AppHeader from '../header';\r\nimport AppMap from '../map_leaflet';\r\nimport AppSidebar from '../sidebar';\r\nimport ReactModal from '../modal';\r\nimport Gallery from '../gallery';\r\nimport Notification from '../notification';\r\nimport './style.scss';\r\n\r\nconst Home = props => {\r\n  const { \r\n    isOpen,\r\n    onClose,\r\n    isNotice\r\n  } = props;\r\n\r\n  return (\r\n    <>\r\n      <div className='app-layout'>\r\n        <div className='app-content'>\r\n          <AppHeader/>\r\n          <AppMap/>\r\n        </div>\r\n        \r\n        <aside className='app-sidebar'>\r\n          <Menu\r\n            customCrossIcon={ false }\r\n          >\r\n            <AppSidebar/>\r\n          </Menu>\r\n        </aside>\r\n      </div>\r\n      <ReactModal\r\n        isOpen={ isOpen }\r\n        onRequestClose={ onClose }\r\n        className=\"modal modal-gallery\"\r\n        overlayClassName=\"modal-mask\"\r\n      >\r\n        <Gallery\r\n          onClose={ onClose }\r\n        />\r\n      </ReactModal>\r\n      <Notification\r\n        notice={ isNotice }\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Home;","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { setNotice } from '../../actions/notice_actions';\r\nimport { modalOppened } from '../../actions/modal_actions';\r\nimport { getTheme } from '../../actions/theme_actions';\r\nimport { getUserData } from '../../actions/user_actions';\r\nimport AppHome from './home';\r\n\r\nclass HomeContainer extends Component {\r\n  modal_id = 'modal_gallery';\r\n\r\n  componentDidMount() {\r\n    const { theme, getUser } = this.props;\r\n    theme();\r\n    getUser();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { notice, colorTheme } = this.props;\r\n    const body = document.body;\r\n\r\n    if (notice.isNotice !== prevProps.notice.isNotice) {\r\n      this.pushNotice();\r\n    }\r\n\r\n    if (colorTheme !== prevProps.colorTheme) {\r\n      colorTheme ? body.dataset.theme = colorTheme : body.removeAttribute('data-theme');\r\n    }\r\n  }\r\n\r\n  handleClosedModal = () => {\r\n    this.props.toggleModal();\r\n  }\r\n\r\n  pushNotice = () => {\r\n    const { getNotice } = this.props;\r\n\r\n    setTimeout(getNotice, 5000);\r\n  }\r\n\r\n  render() {\r\n    const { notice, id } = this.props;\r\n\r\n    return (\r\n      <AppHome\r\n        onClose={ this.handleClosedModal }\r\n        isOpen={ id === this.modal_id }\r\n        isNotice={ notice }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ notice, modal, theme }) => {\r\n  return {\r\n    notice,\r\n    id: modal.id,\r\n    colorTheme: theme.colorTheme,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    getUser: () => dispatch(getUserData()),\r\n    getNotice: () => dispatch(setNotice()),\r\n    toggleModal: () => dispatch(modalOppened()),\r\n    theme: () => dispatch(getTheme())\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(HomeContainer);","import Home from './home_container';\r\n\r\nexport default Home;","import * as actionTypes from './action_types';\r\n\r\nconst setNotice = () => dispatch => {\r\n  dispatch({ type: actionTypes.SET_NOTICE, payload: {\r\n    notice: false\r\n  }});\r\n}\r\n\r\nexport {\r\n  setNotice\r\n}","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst PrivateRoute = ({ component:Component, ...rest }) => {\r\n  const isUser = JSON.parse(localStorage.getItem('_user')) || null;\r\n\r\n  return(\r\n    <Route\r\n      { ...rest }\r\n      render={ routeProps => {\r\n        return isUser && isUser.isLogined && isUser.uid ? <Component { ...routeProps } /> : <Redirect exact to='/login' />\r\n      }}\r\n    />\r\n  )\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import Input from './input';\r\n\r\nexport default Input;","import React from 'react';\r\n\r\nconst shadowPassword = show => {\r\n  if (!show) {\r\n    return (\r\n      <svg width='22' height='22' focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" role=\"presentation\">\r\n        <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"/>\r\n      </svg>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <svg width='22' height='22' focusable=\"false\" viewBox=\"0 0 24 24\" aria-hidden=\"true\" role=\"presentation\">\r\n      <path fill=\"none\" d=\"m0 0h24v24H0z\"/>\r\n      <path d=\"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"/>\r\n    </svg>\r\n  )\r\n}\r\n\r\nconst Input = props => {\r\n  const { \r\n    input,\r\n    meta,\r\n    visiblePass,\r\n    infoPass,\r\n    showHidePassword,\r\n    onShowPassword\r\n  } = props;\r\n\r\n  return(\r\n    <div className='unlogged-input-container'>\r\n      <label className='unlogged-label'>\r\n        <input\r\n          className={ `${ meta.touched && meta.invalid ? 'unlogged-input is-error' : 'unlogged-input' }` }\r\n          { ...input }\r\n          type={ !!visiblePass && showHidePassword[input.name].showPass ? 'text' : props.type }\r\n          placeholder={ props.placeholder }\r\n          autoComplete='off'\r\n        />\r\n      </label>\r\n      { !!visiblePass ? (\r\n        <button\r\n          type='button'\r\n          className='visually-hidden'\r\n          onClick={ () => onShowPassword(input.name) }\r\n        >\r\n          { shadowPassword(showHidePassword[input.name].showPass) }\r\n        </button>\r\n      ) : null }\r\n      { !!infoPass ? (\r\n        <button \r\n          type='button' \r\n          className='tooltip-anchor' \r\n          data-tooltip='The password must be at least 6 characters long, contain at least 1 number and 1 letter.'\r\n        >\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 524.235 524.235\" xmlns=\"http://www.w3.org/2000/svg\">\r\n            <path d=\"M262.118 0C117.588 0 0 117.588 0 262.118s117.588 262.118 262.118 262.118 262.118-117.588 262.118-262.118S406.647 0 262.118 0zm17.05 417.639c-12.453 2.076-37.232 7.261-49.815 8.303-10.651.882-20.702-5.215-26.829-13.967a32.756 32.756 0 01-3.968-29.997l49.547-136.242h-51.515c-.044-28.389 21.25-49.263 48.485-57.274 12.997-3.824 37.212-9.057 49.809-8.255 7.547.48 20.702 5.215 26.829 13.967a32.756 32.756 0 013.968 29.997l-49.547 136.242h51.499c.01 28.356-20.49 52.564-48.463 57.226zm15.714-253.815c-18.096 0-32.765-14.671-32.765-32.765 0-18.096 14.669-32.765 32.765-32.765s32.765 14.669 32.765 32.765c0 18.095-14.668 32.765-32.765 32.765z\"/>\r\n          </svg>\r\n        </button>\r\n        ) : null }\r\n      { meta.touched && meta.error && <span className=\"unlogged-error\" style={{ display: meta.active ? 'none' : false }}>{ meta.error }</span> }\r\n      { !meta.invalid ? <span className='unlogged-success' /> : null }\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Input;\r\n","import React, { Component as ReactComponent } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { signIn, signUp } from '../../../actions/auth_actions';\r\nimport { modalOppened } from '../../../actions/modal_actions';\r\nimport ReactModal from '../../modal';\r\nimport Input from '../input';\r\nimport '../style.scss';\r\n\r\nclass authContainer extends ReactComponent {\r\n  modal_id = 'modal-error';\r\n\r\n  state = {\r\n    password: { showPass: false },\r\n    confirm: { showPass: false }\r\n  }\r\n\r\n  handleSubmit = async(values) => {\r\n    const { location } = this.props;\r\n\r\n    switch(location.pathname) {\r\n      case '/login':\r\n        await this.props.signIn(values);\r\n        break;\r\n      case '/register':\r\n        await this.props.signUp(values);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    if (this.props.isLogined) {\r\n      this.props.history.push('/');\r\n      console.log('redirect');\r\n    }\r\n\r\n    if (this.props.error) {\r\n      this.props.closeModalError(this.modal_id);\r\n    }\r\n  };\r\n\r\n  handleValidate = (values, field, settings) => {\r\n    if (!values || !values.length) {\r\n      return 'Require field';\r\n    }\r\n\r\n    switch(values) {\r\n      case field.email:\r\n        return this.handleValidUserEmail(field.email);\r\n      case field.password:\r\n        if (settings.form !== 'signin') {\r\n          return this.handleValidUserPassword(field.password);\r\n        }\r\n        break;\r\n      case field.confirm:\r\n        return this.handleValidConfirmPass(field.confirm, field.password);\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  handleValidUserEmail = value => {\r\n    const regExp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n    if (!regExp.test(String(value).toLowerCase())) {\r\n      return 'Invalid email';\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  handleValidUserPassword = value => {\r\n    const regExp = /^(?=.*[a-z])(?=.*\\d).{6,}$/;\r\n\r\n    if (value.length < 6) {\r\n      return 'At least 6 characters';\r\n    } else if (!regExp.test(value)) {\r\n      return 'Password must contain letters and numbers';\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  handleValidConfirmPass = ( password, confirmPassword ) => {\r\n    if (!confirmPassword) {\r\n      return 'Require field';\r\n    }\r\n\r\n    if (confirmPassword !== password) {\r\n      return 'Passwords do not match';\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  handleToggleShowPassword = name => {\r\n    this.setState(state => {\r\n      return {\r\n        [name]: {\r\n          showPass: !state[name].showPass\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { \r\n      renderComponent: Component,\r\n      location,\r\n      isLoading,\r\n      error,\r\n      id,\r\n      closeModalError\r\n    } = this.props;\r\n\r\n    const { pathname } = location;\r\n    const showHide = this.state;\r\n\r\n\r\n    return(\r\n      <div className={ `${ pathname === '/login' ? 'unlogged-authen unlogged-login' : 'unlogged-authen unlogged-signup' }` }>\r\n        <div className='unlogged-container'>\r\n          <div className='unlogged-container-inner'>\r\n            <Component\r\n              renderProp={ props => <Input { ...props } /> }\r\n              onSubmit={ this.handleSubmit }\r\n              onValidate={ this.handleValidate }\r\n              onToggleShowPassword={ this.handleToggleShowPassword }\r\n              showHide={ showHide }\r\n              isLoading={ isLoading }\r\n            />\r\n          </div>\r\n        </div>\r\n        <ReactModal\r\n          isOpen={ id === this.modal_id }\r\n          onRequestClose={ () => closeModalError() }\r\n          className=\"modal modal-error\"\r\n          overlayClassName=\"modal-mask\"\r\n        >\r\n          <div className='modal-content'>\r\n            <div className='modal-error-title'>Error</div>\r\n            <div className='error-text'>{ error }</div>\r\n          </div>\r\n          <button \r\n            className='modal-btn'\r\n            onClick={ () => closeModalError() }\r\n          >\r\n            OK\r\n          </button>\r\n        </ReactModal>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth, modal }) => {\r\n  return {\r\n    isLoading: auth.loading,\r\n    error: auth.error,\r\n    id: modal.id\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signIn: creds => dispatch(signIn(creds)),\r\n    signUp: creds => dispatch(signUp(creds)),\r\n    closeModalError: id => dispatch(modalOppened(id))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(withRouter(authContainer));\r\n","import AuthContainer from './auth';\r\n\r\nexport default AuthContainer;","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst AuthSocials = props => {\r\n  const { onSignInGoogle, onSignInFb, isLogined } = props;\r\n\r\n  return (\r\n    <div className=\"unlogged-socials-btn-container\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"unlogged-btn-social unlogged-btn-google\"\r\n        onClick={ onSignInGoogle }\r\n      >\r\n        <span className=\"icon-gpl\" />\r\n        <span className='google-label'>Google</span>\r\n        { isLogined ? <Redirect to='/'/> : null }\r\n      </button>\r\n      <button\r\n        type=\"button\"\r\n        className=\"unlogged-btn-social unlogged-btn-facebook\"\r\n        onClick={ onSignInFb }\r\n      >\r\n        <span className=\"icon-fb\" />\r\n        <span className='facebook-label'>Facebook</span>\r\n        { isLogined ? <Redirect to='/'/> : null }\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthSocials;","import React, { Component } from \"react\";\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport firebase from \"firebase/app\";\r\nimport { signInSocials } from '../../../actions/auth_actions';\r\nimport AuthSocials from './auth_soc'\r\n\r\nclass AuthSocialsContainer extends Component {\r\n  providerGoogle = new firebase.auth.GoogleAuthProvider();\r\n  providerFacebook = new firebase.auth.FacebookAuthProvider();\r\n\r\n  signInGoogle = () => {\r\n    this.props.signInGoogle(this.providerGoogle);\r\n  };\r\n\r\n  signInFacebook = () => {\r\n    this.props.signInFacebook(this.providerFacebook);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <AuthSocials\r\n        onSignInGoogle={ this.signInGoogle }\r\n        onSignInFb={ this.signInFacebook }\r\n        isLogined={ this.props.isLogined }\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ auth }) => {\r\n  return {\r\n    isLogined: auth.isLogined\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    signInGoogle: provider => dispatch(signInSocials(provider)),\r\n    signInFacebook: provider => dispatch(signInSocials(provider))\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps)(withRouter(AuthSocialsContainer));","import AuthSocials from './auth_soc_container';\r\n\r\nexport default AuthSocials;","import Button from './button'\r\n\r\nexport default Button;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport './style.scss';\r\n\r\nconst Button = props => {\r\n  const {location, disabled, isLoading } = props;\r\n  const { pathname } = location;\r\n  const url = ['/login','/register'].find(url => url === pathname);\r\n\r\n  return (\r\n    <button\r\n      className='unlogged-btn unlogged-btn-pink unlogged-btn-wide'\r\n      type=\"submit\" \r\n      disabled={ disabled }\r\n    >\r\n      { url ? isLoading ? 'Loading...' : 'Sign up' : 'Sign in' }\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default withRouter(Button);","import SignIn from './signin';\r\n\r\nexport default SignIn;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport Social from '../auth_socials';\r\nimport Button from '../button';\r\n\r\nconst SignInView = props => {\r\n  const { \r\n    handleSubmit,\r\n    onValidate,\r\n    valid,\r\n    isLoading\r\n  } = props;\r\n\r\n  return(\r\n    <>\r\n      <div className='unlogged-heading-2'>Are you ready to travel ?</div>\r\n      <Social/>\r\n      <form className='unlogged-form' onSubmit={ handleSubmit }>\r\n        <Field\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Enter your email address\"\r\n          validate={ onValidate }\r\n          component={ props.renderProp }\r\n        />\r\n        <Field\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your password\"\r\n          validate={ onValidate }\r\n          component={ props.renderProp }\r\n        />\r\n        <Button\r\n          disabled={ !valid || isLoading }\r\n          isLoading={ isLoading }\r\n        />\r\n      </form>\r\n      <div className='unlogged-notice'>\r\n        Not yet registered ? &nbsp;\r\n        <Link to='/register'>\r\n          Sign up\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: 'signin'\r\n})(SignInView);\r\n","import SignUp from './signup';\r\n\r\nexport default SignUp;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport Button from '../button';\r\nimport Social from '../auth_socials';\r\n\r\nconst SignUpView = props => {\r\n  const { \r\n    handleSubmit,\r\n    onValidate,\r\n    onToggleShowPassword,\r\n    valid,\r\n    showHide,\r\n    isLoading\r\n   } = props;\r\n\r\n  return(\r\n    <>\r\n      <div className='unlogged-heading-2'>Ready to sign up?</div>\r\n      <Social/>\r\n      <form \r\n        className='unlogged-form' \r\n        onSubmit={ handleSubmit }\r\n      >\r\n        <Field\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Enter your email address\"\r\n          validate={ onValidate }\r\n          component={ props.renderProp }\r\n        />\r\n        <Field\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your password\"\r\n          validate={ onValidate }\r\n          visiblePass\r\n          infoPass\r\n          showHidePassword={ showHide }\r\n          onShowPassword={ onToggleShowPassword }\r\n          component={ props.renderProp }\r\n        />\r\n        <Field\r\n          name=\"confirm\"\r\n          type=\"password\"\r\n          placeholder=\"Enter your re-password\"\r\n          validate={ onValidate }\r\n          visiblePass\r\n          showHidePassword={ showHide }\r\n          onShowPassword={ onToggleShowPassword }\r\n          component={ props.renderProp }\r\n        />\r\n        <div className='auth-button'> \r\n          <Button\r\n            disabled={ !valid || isLoading }\r\n            isLoading={ isLoading }\r\n          />\r\n        </div>\r\n      </form>\r\n      <div className='unlogged-notice unlogged-notice-register'>\r\n        Already registered ? &nbsp;\r\n        <Link to='/login'>\r\n          Sign in\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: 'signup'\r\n})(SignUpView);\r\n","import Topbar from './topbar';\r\n\r\nexport default Topbar;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Logo from '../logo';\r\nimport './style.scss';\r\n\r\nconst Topbar = () => {\r\n  return (\r\n    <header className='topbar'>\r\n      <div className='react-topbar-container'>\r\n        <div className='header-col'>\r\n          <Logo/>\r\n        </div>\r\n        <div className='header-col header-col-right'>\r\n          <Link className='unlogged-btn unlogged-btn-black unlogged-btn-small unlogged-btn-outline' to='/login'>\r\n            <span className='unlogged-btn-label'>Log in</span>\r\n          </Link>\r\n          <Link className='unlogged-btn unlogged-btn-blue unlogged-btn-small' to='/register'>\r\n            <span className='unlogged-btn-label'>Sign up</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Topbar;","import React, { Component } from 'react';\r\nimport { withRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport Home from '../home';\r\nimport PrivateRoute from '../auth/private_route';\r\nimport Auth from '../auth/auth_container';\r\nimport SingIn from '../auth/sign_in';\r\nimport SingUp from '../auth/sign_up';\r\nimport UnloggedTopbar from '../unlogged_topbar';\r\n\r\nimport './app.scss';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    isOnline: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('online', () => this.setOnlineStatus(true));\r\n    window.addEventListener('offline', () => this.setOnlineStatus(false));\r\n  }\r\n  \r\n  componentWillUnmount() {\r\n    window.removeEventListener('online');\r\n    window.removeEventListener('offline');\r\n  }\r\n\r\n  handleOnliseStatus = status => {\r\n    this.setState({ isOnline: status });\r\n  }\r\n\r\n  render() {\r\n    const { location } = this.props;\r\n    const url = ['/login', '/register'].find(el => el === location.pathname);\r\n\r\n    return (\r\n      <main className='main-content'>\r\n        { url ? <UnloggedTopbar/> : null }\r\n          <Switch>\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/\"\r\n              component={ Home }\r\n            />\r\n            <Route\r\n              exact\r\n              path='/login'\r\n              render={ () => <Auth renderComponent={ SingIn } />} \r\n            />\r\n            <Route\r\n              path='/register'\r\n              render={ () => <Auth renderComponent={ SingUp } />} \r\n            />\r\n            <Redirect to='/' />\r\n        </Switch>\r\n        { this.state.isOnline ? (\r\n          <div className='notice-status-connect'>No internet connection</div>\r\n        ) : null }\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(App);\r\n","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport configureStore from './store/store';\r\nimport App from './components/app';\r\nimport './index.css';\r\n\r\nconst store = configureStore();\r\n\r\nrender(\r\n  <Provider store={ store }>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <App/>\r\n    </Router>\r\n  </Provider>, \r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}